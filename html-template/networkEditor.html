<html lang="en">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type="text/javascript">
  google.load("visualization", "1", {});
  google.load("prototype", "1.6");
</script>
<script type="text/javascript" src="bionetwork.js"></script>
<script type="text/javascript" src="json2.js"></script>
<script language="JavaScript" type="text/javascript">	

	google.setOnLoadCallback(drawChart); // Set callback to run when API is loaded
	
function drawChart() {

data = new google.visualization.DataTable();
data.addColumn('string', 'interactor1');
data.addColumn('string', 'interactor2');
data.addColumn('string', 'sources');
data.addRows(21);
data.setValue(0, 0, '867');
data.setValue(0, 1, '867');
data.setFormattedValue(0, 0, 'CBL');
data.setFormattedValue(0, 1, 'CBL');
data.setValue(0, 2, 'HPRD');
data.setValue(1, 0, '867');
data.setValue(1, 1, '1399');
data.setFormattedValue(1, 0, 'CBL');
data.setFormattedValue(1, 1, 'CRKL');
data.setValue(1, 2, 'HPRD, MINT, BioGRID');
data.setValue(2, 0, '867');
data.setValue(2, 1, '2057');
data.setFormattedValue(2, 0, 'CBL');
data.setFormattedValue(2, 1, 'EPOR');
data.setValue(2, 2, 'HPRD');
data.setValue(3, 0, '867');
data.setValue(3, 1, '3815');
data.setFormattedValue(3, 0, 'CBL');
data.setFormattedValue(3, 1, 'KIT');
data.setValue(3, 2, 'HPRD');
data.setValue(4, 0, '867');
data.setValue(4, 1, '5156');
data.setFormattedValue(4, 0, 'CBL');
data.setFormattedValue(4, 1, 'PDGFRA');
data.setValue(4, 2, 'BioGRID');
data.setValue(5, 0, '867');
data.setValue(5, 1, '5159');
data.setFormattedValue(5, 0, 'CBL');
data.setFormattedValue(5, 1, 'PDGFRB');
data.setValue(5, 2, 'HPRD');
data.setValue(6, 0, '867');
data.setValue(6, 1, '5777');
data.setFormattedValue(6, 0, 'CBL');
data.setFormattedValue(6, 1, 'PTPN6');
data.setValue(6, 2, 'HPRD, BioGRID');
data.setValue(7, 0, '867');
data.setValue(7, 1, '5781');
data.setFormattedValue(7, 0, 'CBL');
data.setFormattedValue(7, 1, 'PTPN11');
data.setValue(7, 2, 'HPRD');
data.setValue(8, 0, '867');
data.setValue(8, 1, '6464');
data.setFormattedValue(8, 0, 'CBL');
data.setFormattedValue(8, 1, 'SHC1');
data.setValue(8, 2, 'HPRD, MINT, IntAct, BioGRID');
data.setValue(9, 0, '867');
data.setValue(9, 1, '6714');
data.setFormattedValue(9, 0, 'CBL');
data.setFormattedValue(9, 1, 'SRC');
data.setValue(9, 2, 'HPRD, MINT');
data.setValue(10, 0, '867');
data.setValue(10, 1, '6777');
data.setFormattedValue(10, 0, 'CBL');
data.setFormattedValue(10, 1, 'STAT5B');
data.setValue(10, 2, 'HPRD');
data.setValue(11, 0, '919');
data.setValue(11, 1, '919');
data.setFormattedValue(11, 0, 'CD247');
data.setFormattedValue(11, 1, 'CD247');
data.setValue(11, 2, 'HPRD, IntAct');
data.setValue(12, 0, '919');
data.setValue(12, 1, '6464');
data.setFormattedValue(12, 0, 'CD247');
data.setFormattedValue(12, 1, 'SHC1');
data.setValue(12, 2, 'HPRD');
data.setValue(13, 0, '919');
data.setValue(13, 1, '6777');
data.setFormattedValue(13, 0, 'CD247');
data.setFormattedValue(13, 1, 'STAT5B');
data.setValue(13, 2, 'HPRD');
data.setValue(14, 0, '1387');
data.setValue(14, 1, '1387');
data.setFormattedValue(14, 0, 'CREBBP');
data.setFormattedValue(14, 1, 'CREBBP');
data.setValue(14, 2, 'HPRD');
data.setValue(15, 0, '1387');
data.setValue(15, 1, '2033');
data.setFormattedValue(15, 0, 'CREBBP');
data.setFormattedValue(15, 1, 'EP300');
data.setValue(15, 2, 'HPRD');
data.setValue(16, 0, '1387');
data.setValue(16, 1, '2113');
data.setFormattedValue(16, 0, 'CREBBP');
data.setFormattedValue(16, 1, 'ETS1');
data.setValue(16, 2, 'HPRD');
data.setValue(17, 0, '1387');
data.setValue(17, 1, '6777');
data.setFormattedValue(17, 0, 'CREBBP');
data.setFormattedValue(17, 1, 'STAT5B');
data.setValue(17, 2, 'IntAct');
data.setValue(18, 0, '1398');
data.setValue(18, 1, '867');
data.setFormattedValue(18, 0, 'CRK');
data.setFormattedValue(18, 1, 'CBL');
data.setValue(18, 2, 'HPRD, MINT, BioGRID');
data.setValue(19, 0, '1398');
data.setValue(19, 1, '1399');
data.setFormattedValue(19, 0, 'CRK');
data.setFormattedValue(19, 1, 'CRKL');
data.setValue(19, 2, 'HPRD');
data.setValue(20, 0, '1398');
data.setValue(20, 1, '1956');
data.setFormattedValue(20, 0, 'CRK');
data.setFormattedValue(20, 1, 'EGFR');
data.setValue(20, 2, 'HPRD, MINT, BioGRID');
data.insertColumn(0,"number");
	 
       networkvis = new org.systemsbiology.visualization.BioNetwork(document.getElementById('exampleVisContainer'));
       networkvis.draw(data, {radialTree:"ForceDirected",center:"CBL"});	
       //google.visualization.events.addListener(networkvis, "nodeclick", clickHandeler);

}
      
function changeLayout()
{
	networkvis.draw("",{layout:$("layout").value});
}

var path_shown = 0;

function toggle_path()
{
	if(path_shown)
	{
		hide_path();
		path_shown = 0;
	}
	else
	{
		show_path();
		path_shown = 1;
	}
}

function show_path()
{
	//build data table to update nodes
	var nodedata = new google.visualization.DataTable();
	nodedata.addColumn('string', 'node');
	nodedata.addColumn('string', 'shape');
	nodedata.addColumn('string', 'size');
	nodedata.addColumn('string', 'color');
	nodedata.addRows(2);
	nodedata.setValue(0, 0, 'CBL'); //node id is formated value || value in above data table
	nodedata.setValue(0, 1, 'SQUARE'); //"CIRCLE", "SQUARE", "DIAMOND", "TRIANGLEDOWN", "TRIANGLEUP", "TRIANGLERIGHT", "TRIANGLELEFT", "CROSS" or "X"
	nodedata.setValue(0, 2, '2'); // size multiplyer
	nodedata.setValue(0, 3, '0xffff0000'); //red: "0xAARRGGBB"
	nodedata.setValue(1, 0, 'PDGFRB'); //node id is formated value || value in above data table
	nodedata.setValue(1, 1, 'DIAMOND'); //"CIRCLE", "SQUARE", "DIAMOND", "TRIANGLEDOWN", "TRIANGLEUP", "TRIANGLERIGHT", "TRIANGLELEFT", "CROSS" or "X"
	nodedata.setValue(1, 2, '2'); // size multiplyer
	nodedata.setValue(1, 3, '0xffff0000'); //red: "0xAARRGGBB"
	
	var edge_data = new google.visualization.DataTable();
	edge_data.addColumn('string', 'node1');
	edge_data.addColumn('string', 'node2');
	edge_data.addColumn('string', 'width');
	edge_data.addColumn('string', 'color');
	edge_data.addRows(2);
	edge_data.setValue(0, 0, 'CBL');
	edge_data.setValue(0, 1, 'CRKL');
	edge_data.setValue(0, 2, '4');
	edge_data.setValue(0, 3, '0xffff0000');
	edge_data.setValue(1, 0, 'CBL');
	edge_data.setValue(1, 1, 'EPOR');
	edge_data.setValue(1, 2, '4');
	edge_data.setValue(1, 3, '0xffff0000');
	
	networkvis.draw(data, {layout_data:nodedata,edge_data:edge_data});


}

function hide_path()
{
	
	//build data table to update nodes
	var nodedata = new google.visualization.DataTable();
	nodedata.addColumn('string', 'node');
	nodedata.addColumn('string', 'shape');
	nodedata.addColumn('string', 'size');
	nodedata.addColumn('string', 'color');
	nodedata.addRows(2);
	nodedata.setValue(0, 0, 'CBL');
	nodedata.setValue(0, 1, 'CIRCLE');
	nodedata.setValue(0, 2, '1');
	nodedata.setValue(0, 3, '0x880055cc'); //default node color
	nodedata.setValue(1, 0, 'PDGFRB');
	nodedata.setValue(1, 1, 'CIRCLE');
	nodedata.setValue(1, 2, '1');
	nodedata.setValue(1, 3, '0x880055cc'); //default node color
	
	var edge_data = new google.visualization.DataTable();
	edge_data.addColumn('string', 'node1');
	edge_data.addColumn('string', 'node2');
	edge_data.addColumn('string', 'width');
	edge_data.addColumn('string', 'color');
	edge_data.addRows(2);
	edge_data.setValue(0, 0, 'CBL');
	edge_data.setValue(0, 1, 'CRKL');
	edge_data.setValue(0, 2, '1');
	edge_data.setValue(0, 3, '0x66000000'); //default edge color
	edge_data.setValue(1, 0, 'CBL');
	edge_data.setValue(1, 1, 'EPOR');
	edge_data.setValue(1, 2, '1');
	edge_data.setValue(1, 3, '0x66000000'); //default edge color
	
	networkvis.draw(data, {layout_data:nodedata, edge_data:edge_data});
}

      
	  	
	
	
</script>

<style>
body { margin: 0px; overflow:hidden; background-color: #cccccc }
</style>

</head>

<body scroll="no">
	<div id="exampleVisContainer"></div>
	
<input type="button" id="toggle" onclick="toggle_path()" value="Toggle Path"/><br/>
layout: <select id="layout" onchange="changeLayout()">
<option value ="radialTree">radialTree</option>
<option value ="ForceDirected">ForceDirected</option>
<option value ="circular">circular</option>
<option value ="extendedForceDirected">extendedForceDirected</option>
<option value ="3dSVD">3dSVD</option>
</select>





	
</body>
</html>
